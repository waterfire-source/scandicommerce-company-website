'use client'

import { BadgeCheck } from 'lucide-react'

interface Feature {
  icon?: string
  title?: string
  description?: string
}

interface WhyOurPartnershipData {
  title?: string
  features?: Feature[]
}

interface WhyOurPartnershipProps {
  whyOurPartnership?: WhyOurPartnershipData
}

// Default features
const defaultFeatures: Feature[] = [
  {
    icon: 'support',
    title: 'Priority Support',
    description: 'Direct lines to support teams when you need help',
  },
  {
    icon: 'certified',
    title: 'Certified Expertise',
    description: "We're trained and certified on best practices",
  },
  {
    icon: 'outcomes',
    title: 'Better Outcomes',
    description: 'Deeper integrations mean better results for you',
  },
]

// Icon components
const SupportIcon = () => <BadgeCheck size={42} className="text-white" />

const CertifiedIcon = () => (
  <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clipPath="url(#clip0_246_906)">
      <path d="M30.9749 16.065C31.1268 15.8796 31.2401 15.6658 31.3079 15.4359C31.3757 15.2061 31.3968 14.965 31.3699 14.7269C31.343 14.4888 31.2686 14.2585 31.1512 14.0496C31.0337 13.8408 30.8756 13.6576 30.6862 13.5108C30.3008 13.2093 29.8129 13.0703 29.3265 13.1232C28.8401 13.1762 28.3936 13.417 28.0822 13.7943L19.3934 24.4518L14.7472 20.8818C14.3676 20.5729 13.8824 20.4245 13.395 20.4681C12.9076 20.5118 12.4565 20.744 12.1379 21.1155C11.9822 21.2976 11.8647 21.5091 11.7921 21.7375C11.7196 21.9658 11.6936 22.2064 11.7156 22.445C11.7376 22.6836 11.8072 22.9154 11.9204 23.1266C12.0335 23.3378 12.1878 23.5242 12.3742 23.6748L18.4642 28.4261C18.8487 28.7389 19.3414 28.8869 19.8347 28.8377C20.328 28.7885 20.7818 28.5462 21.097 28.1636L30.967 16.0361L30.9749 16.065Z" fill="white" />
      <path fillRule="evenodd" clipRule="evenodd" d="M17.0885 1.87408C18.4902 0.845075 19.1911 0.330575 19.9497 0.131075C20.6276 -0.0409248 21.3377 -0.0409248 22.0156 0.131075C22.7821 0.330575 23.4856 0.845075 24.8768 1.87408L26.654 3.1787C27.1396 3.5357 27.3837 3.7142 27.6462 3.85333C27.8807 3.97583 28.1248 4.07733 28.3786 4.15783C28.6647 4.24445 28.9613 4.28908 29.5572 4.38095L31.736 4.71433C33.4553 4.97683 34.3137 5.1107 34.991 5.51232C35.5947 5.8667 36.0987 6.3707 36.4531 6.97445C36.8547 7.65695 36.986 8.51795 37.2511 10.2295L37.5845 12.4082C37.6763 13.0041 37.721 13.3033 37.8076 13.5895C37.8863 13.8432 37.9878 14.0865 38.1121 14.3192C38.2538 14.5817 38.4297 14.8258 38.7867 15.3115L40.0913 17.0886C41.1203 18.4903 41.6348 19.1912 41.8343 19.9498C42.0063 20.6277 42.0063 21.3378 41.8343 22.0157C41.6375 22.7822 41.1203 23.4857 40.0913 24.8769L38.7867 26.6541C38.5369 26.9672 38.3114 27.2989 38.1121 27.6463C37.9875 27.8811 37.8856 28.1272 37.8076 28.3813C37.721 28.6648 37.6763 28.9615 37.5845 29.5573L37.2511 31.7361C36.9886 33.4554 36.8547 34.3138 36.4531 34.9911C36.0987 35.5948 35.5947 36.0988 34.991 36.4532C34.3085 36.8548 33.4475 36.9861 31.736 37.2512L29.5572 37.5846C29.1592 37.6297 28.7651 37.7052 28.3786 37.8103C28.1248 37.8873 27.8807 37.9888 27.6462 38.1148C27.3837 38.254 27.1396 38.4298 26.654 38.7895L24.8768 40.0941C23.4751 41.1231 22.7742 41.6376 22.0156 41.8371C21.3377 42.0091 20.6276 42.0091 19.9497 41.8371C19.1832 41.6376 18.4797 41.1231 17.0885 40.0941L15.3113 38.7895C14.9982 38.5397 14.6665 38.3141 14.3191 38.1148C14.0851 37.9905 13.8399 37.8885 13.5867 37.8103C13.2001 37.7052 12.8061 37.6297 12.4081 37.5846L10.2293 37.2512C8.50995 36.9887 7.64895 36.8574 6.97433 36.4532C6.37272 36.0953 5.87011 35.5927 5.5122 34.9911C5.11058 34.3086 4.97933 33.4476 4.7142 31.7361L4.38083 29.5573C4.28895 28.9615 4.24433 28.6648 4.1577 28.3787C4.08111 28.1249 3.97909 27.8796 3.8532 27.6463C3.65389 27.2989 3.42836 26.9672 3.17858 26.6541L1.87395 24.8769C0.844953 23.4752 0.330453 22.7769 0.130953 22.0157C-0.0410469 21.3378 -0.0410469 20.6277 0.130953 19.9498C0.327828 19.1833 0.844953 18.4798 1.87395 17.0886L3.17858 15.3115C3.53558 14.8258 3.71408 14.5817 3.8532 14.3192C3.9757 14.0865 4.0772 13.8423 4.1577 13.5868C4.24433 13.3007 4.28895 13.0041 4.38083 12.4082L4.7142 10.2295C4.9767 8.51008 5.11058 7.64908 5.5122 6.97445C5.86658 6.3707 6.37058 5.87195 6.97433 5.51232C7.65683 5.1107 8.51783 4.97945 10.2293 4.71433L12.4081 4.38095C13.004 4.2917 13.3032 4.24445 13.5867 4.15783C13.8405 4.07908 14.0846 3.97758 14.3191 3.85333C14.5816 3.7142 14.8257 3.5357 15.3113 3.1787L17.0885 1.87408ZM23.336 3.98983L25.2023 5.36008C25.5987 5.65145 25.9898 5.9402 26.4256 6.1712C26.8106 6.37595 27.2096 6.54133 27.6226 6.66733C28.0947 6.79788 28.5754 6.89525 29.0611 6.9587L31.3501 7.31045C33.2952 7.6097 33.5367 7.69107 33.6785 7.77507C33.9007 7.90807 34.0774 8.08483 34.2087 8.30533C34.2927 8.44707 34.3767 8.68858 34.6733 10.6337L35.0251 12.9227C35.0885 13.4084 35.1859 13.8891 35.3165 14.3612C35.4442 14.7777 35.6096 15.1767 35.8126 15.5582C36.0436 15.994 36.3323 16.3851 36.6237 16.7815L37.994 18.6478C39.1595 20.2333 39.2697 20.4617 39.3117 20.6245C39.3722 20.871 39.3722 21.1286 39.3117 21.3752C39.2697 21.5353 39.1595 21.7637 37.994 23.3518L36.6237 25.2182C36.3323 25.6146 36.0436 26.0057 35.8126 26.4415C35.6096 26.8238 35.4435 27.2246 35.3165 27.6385C35.1859 28.1106 35.0885 28.5912 35.0251 29.0769L34.6733 31.366C34.3741 33.3111 34.2927 33.5526 34.2087 33.6943C34.0772 33.9112 33.8953 34.0931 33.6785 34.2246C33.5367 34.3086 33.2952 34.3926 31.3501 34.6892L29.0611 35.041C28.5754 35.1044 28.0947 35.2018 27.6226 35.3323C27.2087 35.4594 26.8079 35.6255 26.4256 35.8284C25.9898 36.0594 25.5987 36.3482 25.2023 36.6396L23.336 38.0098C21.7505 39.1753 21.5221 39.2856 21.3593 39.3276C21.1127 39.3881 20.8552 39.3881 20.6086 39.3276C20.4485 39.2856 20.2201 39.1753 18.632 38.0098L16.7656 36.6396C16.3772 36.341 15.9685 36.07 15.5423 35.8284C15.16 35.6255 14.7592 35.4594 14.3453 35.3323C13.8732 35.2018 13.3925 35.1044 12.9068 35.041L10.6178 34.6892C8.6727 34.3899 8.4312 34.3086 8.28945 34.2246C8.07259 34.0931 7.89069 33.9112 7.7592 33.6943C7.6752 33.5526 7.5912 33.3111 7.29458 31.366L6.94283 29.0769C6.87938 28.5912 6.78201 28.1106 6.65145 27.6385C6.52441 27.2246 6.35829 26.8238 6.15533 26.4415C5.92433 26.0057 5.63558 25.6146 5.3442 25.2182L3.97395 23.3518C2.80845 21.7663 2.6982 21.5379 2.6562 21.3752C2.59569 21.1286 2.59569 20.871 2.6562 20.6245C2.6982 20.4643 2.80845 20.236 3.97395 18.6478L5.3442 16.7815C5.63558 16.3851 5.92433 15.994 6.15533 15.5582C6.35833 15.1732 6.5237 14.7742 6.65145 14.3612C6.78201 13.8891 6.87938 13.4084 6.94283 12.9227L7.29458 10.6337C7.59383 8.68858 7.6752 8.44707 7.7592 8.30533C7.89069 8.08846 8.07259 7.90656 8.28945 7.77507C8.4312 7.69107 8.6727 7.60708 10.6178 7.31045L12.9068 6.9587C13.3925 6.89525 13.8732 6.79788 14.3453 6.66733C14.7618 6.53958 15.1608 6.3742 15.5423 6.1712C15.9781 5.9402 16.3692 5.65145 16.7656 5.36008L18.632 3.98983C20.2175 2.82433 20.4458 2.71408 20.6086 2.67208C20.8552 2.61156 21.1127 2.61156 21.3593 2.67208C21.5195 2.71408 21.7478 2.82433 23.336 3.98983Z" fill="white" />
    </g>
    <defs>
      <clipPath id="clip0_246_906">
        <rect width="42" height="42" fill="white" />
      </clipPath>
    </defs>
  </svg>
)

const OutcomesIcon = () => (
  <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fillRule="evenodd" clipRule="evenodd" d="M2.0625 0C1.51549 8.15107e-09 0.990886 0.217299 0.604092 0.604092C0.217299 0.990886 0 1.51549 0 2.0625C0 2.60951 0.217299 3.13411 0.604092 3.52091C0.990886 3.9077 1.51549 4.125 2.0625 4.125H25.4375C25.9845 4.125 26.5091 3.9077 26.8959 3.52091C27.2827 3.13411 27.5 2.60951 27.5 2.0625C27.5 1.51549 27.2827 0.990886 26.8959 0.604092C26.5091 0.217299 25.9845 8.15107e-09 25.4375 0H2.0625ZM0 10.3125C0 9.76549 0.217299 9.24088 0.604092 8.85409C0.990886 8.4673 1.51549 8.25 2.0625 8.25H16.5C17.047 8.25 17.5716 8.4673 17.9584 8.85409C18.3452 9.24088 18.5625 9.76549 18.5625 10.3125C18.5625 10.8595 18.3452 11.3841 17.9584 11.7709C17.5716 12.1577 17.047 12.375 16.5 12.375H2.0625C1.51549 12.375 0.990886 12.1577 0.604092 11.7709C0.217299 11.3841 0 10.8595 0 10.3125ZM24.75 31.625C26.5734 31.625 28.322 30.9007 29.6114 29.6114C30.9007 28.322 31.625 26.5734 31.625 24.75C31.625 22.9266 30.9007 21.178 29.6114 19.8886C28.322 18.5993 26.5734 17.875 24.75 17.875C22.9266 17.875 21.178 18.5993 19.8886 19.8886C18.5993 21.178 17.875 22.9266 17.875 24.75C17.875 26.5734 18.5993 28.322 19.8886 29.6114C21.178 30.9007 22.9266 31.625 24.75 31.625ZM24.75 35.75C27.0435 35.75 29.1692 35.0487 30.932 33.8497L34.98 37.895C35.1688 38.0976 35.3965 38.2602 35.6495 38.3729C35.9025 38.4856 36.1756 38.5462 36.4526 38.5511C36.7295 38.556 37.0046 38.5051 37.2614 38.4013C37.5182 38.2976 37.7515 38.1432 37.9473 37.9473C38.1432 37.7515 38.2976 37.5182 38.4013 37.2614C38.5051 37.0046 38.556 36.7295 38.5511 36.4526C38.5462 36.1756 38.4856 35.9025 38.3729 35.6495C38.2602 35.3965 38.0976 35.1688 37.895 34.98L33.8497 30.932C35.23 28.9006 35.8907 26.4658 35.7267 24.0154C35.5627 21.565 34.5833 19.2399 32.9447 17.4106C31.3061 15.5813 29.1024 14.353 26.6848 13.9213C24.2671 13.4896 21.7745 13.8794 19.6041 15.0285C17.4336 16.1777 15.7102 18.0202 14.7083 20.2624C13.7063 22.5047 13.4836 25.0177 14.0755 27.4012C14.6674 29.7847 16.0399 31.9016 17.9744 33.4146C19.9089 34.9276 22.2941 35.7497 24.75 35.75ZM2.0625 16.5C1.51549 16.5 0.990886 16.7173 0.604092 17.1041C0.217299 17.4909 0 18.0155 0 18.5625C0 19.1095 0.217299 19.6341 0.604092 20.0209C0.990886 20.4077 1.51549 20.625 2.0625 20.625H8.25C8.79701 20.625 9.32161 20.4077 9.70841 20.0209C10.0952 19.6341 10.3125 19.1095 10.3125 18.5625C10.3125 18.0155 10.0952 17.4909 9.70841 17.1041C9.32161 16.7173 8.79701 16.5 8.25 16.5H2.0625Z" fill="white" />
  </svg>
)

const getIcon = (iconName?: string) => {
  switch (iconName) {
    case 'support':
      return <SupportIcon />
    case 'certified':
      return <CertifiedIcon />
    case 'outcomes':
      return <OutcomesIcon />
    default:
      return <SupportIcon />
  }
}

export default function WhyOurPartnership({ whyOurPartnership }: WhyOurPartnershipProps) {
  const title = whyOurPartnership?.title || 'Why our partnerships matter'
  const features = whyOurPartnership?.features && whyOurPartnership.features.length > 0
    ? whyOurPartnership.features
    : defaultFeatures

  return (
    <section className="bg-white py-16 lg:py-24">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <div className="text-center mb-12 lg:mb-16">
          <h2 className="text-3xl sm:text-4xl lg:text-5xl font-bold text-[#222222] mb-4">
            {title}
          </h2>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 relative">
          {features.map((feature, index) => (
            <div
              key={index}
              className={`flex flex-col items-center text-center md:border-r py-5 border-[#565454] ${index === 0 && 'md:border-l'}`}
            >
              <div className="w-16 h-16 lg:w-20 lg:h-20 rounded-full bg-[#03C1CA] flex items-center justify-center mb-6">
                {getIcon(feature.icon)}
              </div>

              <h3 className="text-xl lg:text-[32px] font-bold text-[#222222] mb-4">
                {feature.title}
              </h3>

              <p className="text-base lg:text-base text-[#555555] leading-relaxed">
                {feature.description}
              </p>
            </div>
          ))}
        </div>
      </div>
    </section>
  )
}
